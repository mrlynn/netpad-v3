# ============================================
# NetPad - Environment Variables
# ============================================
# Copy this file to .env.local and fill in your values

# ============================================
# Database Configuration
# ============================================

# Main MongoDB connection for the platform database
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/

# Platform database name (shared database for users, orgs, etc.)
PLATFORM_DB_NAME=form_builder_platform

# Legacy: Original database name (for backward compatibility)
MONGODB_DATABASE=form_builder

# ============================================
# Session & Encryption
# ============================================

# Session secret - REQUIRED - at least 32 characters
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SESSION_SECRET=your-super-secret-session-key-at-least-32-chars

# Vault encryption key - REQUIRED for connection vault
# Generate with: openssl rand -base64 32
VAULT_ENCRYPTION_KEY=your-base64-encoded-32-byte-key

# ============================================
# OAuth Providers (Optional)
# ============================================

# Google OAuth
# Create at: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# GitHub OAuth
# Create at: https://github.com/settings/developers
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# ============================================
# Email Configuration (for Magic Links)
# ============================================

# SMTP settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-specific-password

# From address for emails
FROM_EMAIL=noreply@yourdomain.com

# ============================================
# WebAuthn / Passkeys
# ============================================

# Relying Party ID - your domain (localhost for development)
WEBAUTHN_RP_ID=localhost

# Relying Party Name - shown in passkey prompts
WEBAUTHN_RP_NAME=NetPad

# ============================================
# Application URLs
# ============================================

# Server-side URL (for OAuth callbacks, webhooks, etc.)
# REQUIRED in production - set this to your production domain
APP_URL=https://www.netpad.io

# Public URL of your application (for client-side use)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ============================================
# Optional: AI Features
# ============================================

# OpenAI API key for AI-powered pipeline generation
OPENAI_API_KEY=sk-your-openai-api-key

# ============================================
# Optional: Stripe Billing
# ============================================

# Stripe API keys
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# Stripe Price IDs (create in Stripe Dashboard)
STRIPE_PRICE_PRO_MONTHLY=price_xxx
STRIPE_PRICE_PRO_YEARLY=price_xxx
STRIPE_PRICE_TEAM_MONTHLY=price_xxx
STRIPE_PRICE_TEAM_YEARLY=price_xxx

# ============================================
# Optional: File Storage (Vercel Blob)
# ============================================

# Vercel Blob store token
# Get from: https://vercel.com/dashboard/stores
# Required for file/image uploads in forms
BLOB_READ_WRITE_TOKEN=vercel_blob_rw_your-token-here

# ============================================
# Optional: Bot Protection
# ============================================

# Cloudflare Turnstile (bot protection for forms)
# Get from: https://dash.cloudflare.com/turnstile
NEXT_PUBLIC_TURNSTILE_SITE_KEY=your-site-key
TURNSTILE_SECRET_KEY=your-secret-key

# ============================================
# Workflow Processing (Vercel Cron)
# ============================================

# Secret for authenticating cron job requests
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Vercel automatically authenticates cron requests, but this adds an extra layer
CRON_SECRET=

# ============================================
# Optional: Legacy Auth Database
# ============================================

# Separate auth database (defaults to MONGODB_URI if not set)
AUTH_MONGODB_URI=
AUTH_DB_NAME=mdb_tools_auth

# ============================================
# Optional: MongoDB Atlas Admin API
# ============================================

# Atlas API credentials for automatic M0 cluster provisioning
# Create API key at: https://cloud.mongodb.com/v2#/org/<orgId>/access/apiKeys
# Required permissions: Organization Project Creator

# Your Atlas organization ID (found in Atlas URL or Organization Settings)
ATLAS_ORG_ID=

# API Key Public Key
ATLAS_PUBLIC_KEY=

# API Key Private Key
ATLAS_PRIVATE_KEY=

# Default cloud provider for provisioned clusters (AWS, GCP, AZURE)
ATLAS_DEFAULT_PROVIDER=AWS

# Default region for provisioned clusters
# AWS: US_EAST_1, US_WEST_2, EU_WEST_1, etc.
# GCP: CENTRAL_US, EASTERN_US, WESTERN_EUROPE, etc.
# Azure: US_EAST_2, EUROPE_NORTH, etc.
ATLAS_DEFAULT_REGION=US_EAST_1

# Server IP addresses to add to cluster access list (comma-separated)
# Leave empty to allow all IPs (0.0.0.0/0) - not recommended for production
ATLAS_SERVER_IPS=

# ============================================
# Optional: Vercel Integration
# ============================================

# Vercel Integration OAuth credentials
# Create at: https://vercel.com/dashboard/integrations
# Only needed if building a custom Vercel integration
VERCEL_CLIENT_ID=
VERCEL_CLIENT_SECRET=
